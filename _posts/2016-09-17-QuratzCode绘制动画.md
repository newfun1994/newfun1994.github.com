---
layout: post
title:	"QuartzCode绘制动画"
data:	2016-9-17 22:22:43 +0800
categories:	iOS
---


## QuartzCode总结

QuartzCode这么强大的软件一定要推荐给大家，我们部门是做SDK的，项目经理严格要求SDK的大小，SDK中经常会用到一些动画。可是做为只管撸代码的程序员来说，想做出设计🦁设计出来的带动感的，有生命的动画实在是太痛苦了，光调参数就分分钟想死的心了。所以在此之前都是设计🦁把动画导出成一张张的png序列图，然后通过代码将图片串起来。动画多了SDK于是就大了，做为刚刚毕业的猿，对美的东西还有一丝丝幻想，于是励志通过研究QuratzCode来达到减肥的目的。于是便走上了这条不归之路。

QuartzCode的原理和flash差不多，就是添加关键帧，然后就是一些效果的组合，掌握这一点在基本上你想要的动画都可以做出来了。

先做一个简单的loading动画，来初步学习了解这个软件是怎么使用的。

效果如图

首先画一个圆形

设置大小为(90,90)、位置为(50,50)、线条宽度为5、将内部填充颜色透明度修改为0，到时候使用可以在代码里clearColor，该动画拆分为两个动画，前半个动画是从无到有，后半段是从有到无

先制作前半个动画，在下面时间线添加`stroke start`在0秒和1秒有两个关键点，选中`stroke start`右下角会有动画的控制板，动画是从无到有，两个都在极端，莫非是从1->0，或0->1，事实证明是1->0，设置0时刻关键点的value=1，1时刻关键点的value=0，拖动时间线就可以看到动画的变化了。

后半个动画显然不是`stroke start`value值0->1，添加`stroke end`将起始时间设置在1秒，value值变化也是1->0。拖动时间线大致可以看到我们想要的动画了。空格键可以快速播放。

因为这是个loading动画，显然是循环的，你播放时看到的循环实际上是打开了循环播放按钮

选中两个动画继续右下角动画控制面板，打开`Repeat`后面的`INF`这就无限循环了,ok在点击播放，是不是发现时间线一直在往后跑，但是动画似乎不对劲，仔细想想好像是有点问题，能不能把两个动画作为一组循环播放。似乎我没有发现。方法总是有的。在互相空白的地方补充完整就ok啦，如图

时间有点慢，根据需要调，这个圈似乎有点丑，有棱有角的，需要打磨一下，好看多了。

动画就基本完成了，但是动画转起来好像没有动感，调整一下运动贝塞尔曲线默认提供了几，当然你懂贝塞尔曲线也可以自己调。

动画完成了，最后就导出代码。

更具需求选择选项，Use Relative Frame最好勾选上 顾名思义不解释了。除非你想要一个固定大小的动画。

保存后拖到Xcode就可以用了。